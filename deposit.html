<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Deposit | Novabit</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {margin:0;font-family:Roboto,Arial,sans-serif;background:#f5f6fa;}
header {background:#1a1a2e;color:#fff;padding:15px;display:flex;justify-content:space-between;align-items:center;}
header h3 {margin:0;}
button {cursor:pointer;border:none;border-radius:5px;}
.container {padding:20px;max-width:900px;margin:auto;position:relative;}
input {width:100%;padding:10px;margin:8px 0;border-radius:6px;border:1px solid #ccc;}
.coin-list {display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:15px;margin-top:10px;}
.coin {border:1px solid #ddd;border-radius:8px;padding:10px;text-align:center;cursor:pointer;background:#fff;transition:0.2s;}
.coin:hover {border-color:#4b49ac;transform:translateY(-2px);}
.coin img {width:32px;height:32px;margin-bottom:5px;}
.hidden {display:none;}
#depositModal {position:fixed;top:0;right:-400px;width:33%;max-width:350px;height:100%;background:#fff;box-shadow:-2px 0 6px rgba(0,0,0,0.2);transition:right 0.3s;padding:20px;z-index:200;overflow-y:auto;}
#depositModal.active {right:0;}
#depositModal h3 {margin-top:0;margin-bottom:15px;}
#closeModal {background:#e74c3c;color:#fff;padding:8px 12px;margin-bottom:15px;width:100%;cursor:pointer;}
.select-network {width:100%;padding:8px;margin:10px 0;border-radius:6px;border:1px solid #ccc;}
.address-box{background:#f1f1f1;padding:10px;border-radius:6px;word-break:break-all;margin:10px 0;font-family:monospace;}
.copy-btn{background:#4b49ac;color:#fff;padding:10px;width:100%;margin-top:10px;cursor:pointer;border-radius:6px;}
.notice{background:#fff3cd;padding:10px;border-radius:6px;margin-top:10px;font-size:14px;}
#searchInput{width:100%;padding:10px;border-radius:6px;border:1px solid #ccc;margin-bottom:10px;}
</style>
</head>
<body>

<header>
  <h3>Deposit</h3>
</header>

<div class="container">
  <!-- Search -->
  <input type="text" id="searchInput" placeholder="Search Coin..." onkeyup="filterCoins()">

  <!-- Coin List -->
  <div class="coin-list" id="coinList"></div>
</div>

<!-- Deposit Modal -->
<div id="depositModal">
  <button id="closeModal" onclick="closeDeposit()">Close</button>
  <h3 id="coinTitle"></h3>

  <label for="networkSelect"><b>Network:</b></label>
  <select class="select-network" id="networkSelect"></select>

  <div class="address-box" id="walletAddress"></div>
  <button class="copy-btn" onclick="copyAddress()">Copy Address</button>

  <div class="notice">
    ⚠️ Deposit will be credited after manual confirmation.
  </div>
</div>

<script>
// ---------- Coins ----------
const COINS = [
  { symbol: "BTC", name: "Bitcoin", icon: "https://cryptoicons.org/api/icon/btc/64" },
  { symbol: "ETH", name: "Ethereum", icon: "https://cryptoicons.org/api/icon/eth/64" },
  { symbol: "USDT", name: "Tether", icon: "https://cryptoicons.org/api/icon/usdt/64" },
  { symbol: "BNB", name: "Binance Coin", icon: "https://cryptoicons.org/api/icon/bnb/64" },
  { symbol: "ADA", name: "Cardano", icon: "https://cryptoicons.org/api/icon/ada/64" }
  // ... ادامه 100 ارز
];

// ---------- Wallet Addresses ----------
const WALLET_ADDRESSES = {
  BTC: { 
    networks: ["BTC"], 
    addresses: { "BTC": "1BitcoinAddressDemo1234567890" } 
  },
  ETH: { 
    networks: ["ERC20","BEP20","Polygon"], 
    addresses: { "ERC20": "0xEthereumAddressDemo12345", "BEP20": "0xBEP20AddressDemo", "Polygon": "0xPolygonAddressDemo" } 
  },
  USDT: { 
    networks: ["ERC20","TRC20","BEP20"], 
    addresses: { "ERC20": "0xUSDTERC20Address", "TRC20": "TUSDTTRCAddress", "BEP20": "0xUSDTBEPAddress" } 
  },
  BNB: { 
    networks: ["BEP2","BEP20"], 
    addresses: { "BEP2": "bnb1DemoAddress", "BEP20": "0xBNBAddressDemo" } 
  },
  ADA: { 
    networks: ["ADA"], 
    addresses: { "ADA": "addr1qDemoAddress" } 
  }
  // ... ادامه 100 ارز
};

// ---------- Render Coins ----------
const coinList = document.getElementById('coinList');
const depositModal = document.getElementById('depositModal');
const coinTitle = document.getElementById('coinTitle');
const networkSelect = document.getElementById('networkSelect');
const walletAddress = document.getElementById('walletAddress');
const searchInput = document.getElementById('searchInput');

function renderCoins() {
  coinList.innerHTML = '';
  COINS.forEach(c => {
    if(!WALLET_ADDRESSES[c.symbol]) return; // فقط ارزهایی که آدرس دارند
    let div = document.createElement('div');
    div.className = 'coin';
    div.innerHTML = `<img src="${c.icon}" alt="${c.symbol}"><div>${c.symbol}</div>`;
    div.onclick = () => openDeposit(c.symbol, c.name);
    coinList.appendChild(div);
  });
}

function filterCoins() {
  let filter = searchInput.value.toUpperCase();
  document.querySelectorAll('.coin-list .coin').forEach(coin => {
    let txt = coin.innerText.toUpperCase();
    coin.style.display = txt.includes(filter) ? '' : 'none';
  });
}

// ---------- Deposit Modal ----------
function openDeposit(symbol, name) {
  const wallets = WALLET_ADDRESSES[symbol];
  if(!wallets) { alert('Wallet address not set'); return; }
  coinTitle.innerText = `${name} (${symbol})`;

  networkSelect.innerHTML = '';
  wallets.networks.forEach(net => {
    let opt = document.createElement('option');
    opt.value = net;
    opt.innerText = net;
    networkSelect.appendChild(opt);
  });

  walletAddress.innerText = wallets.addresses[wallets.networks[0]];

  networkSelect.onchange = () => {
    let net = networkSelect.value;
    walletAddress.innerText = wallets.addresses[net];
  };

  depositModal.classList.add('active');
}

function closeDeposit() {
  depositModal.classList.remove('active');
}

function copyAddress() {
  navigator.clipboard.writeText(walletAddress.innerText)
    .then(()=> alert('Address copied!'))
    .catch(()=> alert('Failed to copy'));
}

renderCoins();
</script>

</body>
</html>
