<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Deposit</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<style>
body{font-family:Arial;background:#f5f6fa;margin:0}
header{background:#1a1a2e;color:#fff;padding:15px}
.coin{display:flex;align-items:center;padding:10px;background:#fff;margin:10px;border-radius:8px;cursor:pointer}
.coin img{width:32px;height:32px;margin-right:10px}
</style>
</head>
<body>

<header>
  <button onclick="history.back()">← Back</button>
  Deposit
</header>

<div id="coins">Loading coins...</div>

<script>
const supabase = supabaseJs.createClient(
 "https://iecnioogmafgxwarmkxz.supabase.co",
 "PUBLIC_ANON_KEY"
);

async function loadCoins(){
 const {data,error} = await supabase
  .from('assets')
  .select('*')
  .eq('is_active',true)
  .order('symbol');

 if(error){
   document.getElementById('coins').innerText = error.message;
   return;
 }

 document.getElementById('coins').innerHTML = '';
 data.forEach(c=>{
  const div=document.createElement('div');
  div.className='coin';
  div.innerHTML=`<img src="${c.icon}"><b>${c.symbol}</b> - ${c.name}`;
  div.onclick=()=>openDeposit(c.symbol);
  document.getElementById('coins').appendChild(div);
 });
}

function openDeposit(symbol){
 alert("Open deposit for "+symbol);
 // اینجا بعداً فرم ثبت واریز می‌آید
}

loadCoins();
</script>
</body>
</html>
