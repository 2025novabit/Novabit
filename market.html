<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Markets</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family:Arial,Roboto,sans-serif;
  margin:0;
  background:#f8f9fa;
  padding-bottom:60px;
}

/* Header */
header{
  background:#1a1a2e;
  color:#fff;
  padding:15px 20px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  position:sticky;
  top:0;
}
header h1{
  margin:0;
  font-size:20px;
}

/* Layout */
.container{padding:20px;}
.card{
  background:#fff;
  padding:20px;
  border-radius:10px;
  box-shadow:0 4px 8px rgba(0,0,0,.1);
}

/* Table */
.table-container{
  max-height:450px;
  overflow:auto;
}
table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  padding:10px;
  font-size:14px;
  text-align:left;
}
th{
  background:#1a1a2e;
  color:#fff;
  position:sticky;
  top:0;
}
tr:nth-child(even){background:#f1f1f1;}
.price-up{color:green;font-weight:bold;}
.price-down{color:red;font-weight:bold;}
</style>
</head>

<body>

<header>
  <h1>Markets</h1>
</header>

<div class="container">
  <div class="card">
    <h2>Top 100 Cryptocurrencies</h2>

    <div class="table-container">
      <table id="marketTable">
        <thead>
          <tr>
            <th>Coin</th>
            <th>Price (USD)</th>
            <th>24h Change</th>
            <th>Market Cap</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
    </div>

  </div>
</div>

<script>
/* Load Market Data â€“ TESTED */
fetch('https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=100&page=1')
.then(response=>{
  if(!response.ok) throw new Error('API Error');
  return response.json();
})
.then(data=>{
  const tbody=document.querySelector('#marketTable tbody');
  tbody.innerHTML='';

  data.forEach(coin=>{
    tbody.innerHTML+=`
      <tr>
        <td>${coin.symbol.toUpperCase()}</td>
        <td>$${coin.current_price.toLocaleString()}</td>
        <td class="${coin.price_change_percentage_24h>=0?'price-up':'price-down'}">
          ${coin.price_change_percentage_24h.toFixed(2)}%
        </td>
        <td>$${coin.market_cap.toLocaleString()}</td>
      </tr>
    `;
  });
})
.catch(err=>{
  console.error(err);
  alert('Market data not available');
});
</script>

</body>
</html>
